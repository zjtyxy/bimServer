var a0_0x1014=['getPixelSize','constructor','clearFramebuffers','DepthFunction','currentTrailsColor','framebuffer','globalCompositeOperation','currentTrails','CanvasWindLayer','bindEvent','push','createCommand','mars3d','textures','dropRateBump','vertexArray','keys','setData','drawingBufferWidth','253448FbPguw','ClearCommand','RIGHT_UP','postProcessingSpeed','visibility','getFullscreenQuad','Math','randomParticle','toGridXY','Rectangle','options','exports','12310lCRsKu','depthTest','wind','register','geometry','west','cos','maxAge','fromDegrees','particles','xmin','data','max','SCENE3D','updateSpeed','WMS_URL','removeAll','destination-in','screen','appendChild','dimensions','449622VBUtti','min','#ffffff','pointerEvents','viewerParameters','viewport','prototype','getPrototypeOf','createElement','PI_OVER_TWO','postProcessingPosition','globe','getContext','clientWidth','LEFT_DOWN','frameRate','atan2','0px','reverse','segments','LUMINANCE','lev','setPrototypeOf','width','BoundingSphere','NEAREST','defaultValue','__esModule','DrawCommand','178018CtUnSs','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','TRIANGLES','particlesTextures','writable','_calcStep','isInExtent','currentParticlesPosition','container','top','Cesium','segmentsDepth','isDestroyed','nextParticlesSpeed','_speedRate','windField','frameTime','primitiveType','array','strokeStyle','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','Compute','camera','handler','PI_OVER_THREE','resize','clientHeight','attributeLocations','currentParticlesSpeed','fadeOpacity','amd','_pointerEvents','cesium','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','defineProperty','canvasContext','WHEEL','destroyParticlesTextures','cols','Cartesian3','ScreenSpaceEventType','animateFrame','object','WindLayer','getU','update','tlng','VertexArray','wgs84ToWindowCoordinates','setupEventListeners','particleSystem','clampToLatitudeRange','default','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','canvasResize','scene','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','toStringTag','getUVByPoint','_maxAge','fill','OPAQUE','sin','GeometryAttributes','canrefresh','_drawLines','createRenderingPrimitives','hidden','round','rawRenderState','vertexShaderSource','layer','getWind','_map','configurable','globeBoundingSphere','moveEnd','sham','zIndex','IDENTITY','particlesTextureSize','destroyObject','updateViewerParameters','latRange','BaseLayer','getColorTexture','removeEventListener','_calcUV','getUserInput','createWindTextures','_bilinearInterpolation','Cartesian2','commandType','show','lng','reverseY','RenderState','function','add','PixelDatatype','iterator','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','222TaWnDs','addPrimitives','ComponentDatatype','beginPath','visible','ymax','DISABLE_GL_POSITION_LOG_DEPTH','undefined','getV','setGeometry','apply','createRenderingFramebuffers','lonRange','canvasWind','uniformMap','canvasHeight','945822jNjxvy','canvasWidth','commandList','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','nextTrails','globeLayer','depthTexture','xmax','particlesRendering','blending','clearCommand','ymin','style','userInput','windData','fragmentShaderSource','LEFT_UP','mars3dWind','sqrt','fillRect','WindUtil','PrimitiveType','hasOwnProperty','PixelFormat','height','addEventListener','canvasWindy','log','BufferUsage','ShaderSource','speedRate','valueOf','getRandomLatLng','canvas','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','getUVByXY','ALWAYS','stroke','Framebuffer','toRadians','segmentsColor','setAttribute','nextTrailsColor','commandToExecute','none','SceneMode','ellipsoid','lineWidth','createFramebuffer','ComputeCommand','2nxHXom','Pass','calc_speedRate','nextTrailsDepth','Draw','shaderProgram','speedFactor','destroy','all','drawWind','TextureMagnificationFilter','LayerUtil','age','position','randomizeParticles','createParticlesTextures','rgba(0,\x200,\x200,\x200.97)','_showHook','updateDate','1WOadXk','redraw','primitives','enumerable','drawingBufferHeight','LINEAR','mod','toDegrees','TWO_PI','outputTexture','GeometryAttribute','vdata','random','absolute','createComputingPrimitives','Color','length','_removedHook','computeViewRectangle','source','Sampler','getDirection','100%','autoClear','_createCanvas','preExecute','STATIC_DRAW','particlesNumber','pow','FLOAT','requestAnimationFrame','particlesComputing','fixedHeight','createTexture','fromGeometry','forEach','Module','moveStart','windTextures','lon','13fesJDP','defined','ShaderProgram','call','getSpeed','nextParticlesPosition','SceneTransforms','unbindEvent','RGB','abs','symbol','colorTable','fromCache','applyUserInput','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','particleHeight','rows','pixelSize','maxParticles','Geometry','EllipsoidalOccluder','colorNum','UNSIGNED_INT','createRenderingTextures','TextureMinificationFilter','lighter','framebuffers','clear','isPointVisible','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','applyViewerParameters','construct','updatePosition','_particlesNumber','_tomap','now','88534OgfCVB','createRawRenderState','lat','moveTo','floor','dropRate','createSegmentsGeometry','color','context','randomBetween','auto','tlat','refreshParticles','grid','trails','RGBA','setInputAction','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','execute'];function a0_0x5c62(_0x5921bf,_0xd7683d){return a0_0x5c62=function(_0x1014ba,_0x5c6280){_0x1014ba=_0x1014ba-0x137;var _0x340175=a0_0x1014[_0x1014ba];return _0x340175;},a0_0x5c62(_0x5921bf,_0xd7683d);}(function(_0x5cfbaa,_0xfe28d){var _0x440b04=a0_0x5c62;while(!![]){try{var _0xda0c01=-parseInt(_0x440b04(0x272))*parseInt(_0x440b04(0x198))+-parseInt(_0x440b04(0x18c))+-parseInt(_0x440b04(0x140))*parseInt(_0x440b04(0x230))+parseInt(_0x440b04(0x285))*-parseInt(_0x440b04(0x165))+parseInt(_0x440b04(0x1ca))+-parseInt(_0x440b04(0x1ad))+parseInt(_0x440b04(0x240));if(_0xda0c01===_0xfe28d)break;else _0x5cfbaa['push'](_0x5cfbaa['shift']());}catch(_0xd2e996){_0x5cfbaa['push'](_0x5cfbaa['shift']());}}}(a0_0x1014,0x4a65a),!function(_0x2e005d,_0x3dcd82){var _0x541281=a0_0x5c62;'object'==typeof exports&&_0x541281(0x1f4)==typeof module?module[_0x541281(0x197)]=_0x3dcd82(require(_0x541281(0x1ea)),require(_0x541281(0x185))):'function'==typeof define&&define[_0x541281(0x1e8)]?define(_0x541281(0x251),['cesium','mars3d'],_0x3dcd82):_0x541281(0x1f4)==typeof exports?exports['mars3dWind']=_0x3dcd82(require('cesium'),require(_0x541281(0x185))):_0x2e005d[_0x541281(0x251)]=_0x3dcd82(_0x2e005d[_0x541281(0x1d4)],_0x2e005d[_0x541281(0x185)]);}(window,function(_0x598efa,_0x5df7f6){return function(_0x284600){var _0x51d4f2={};function _0x35c46c(_0x4c517f){var _0x1930ff=a0_0x5c62;if(_0x51d4f2[_0x4c517f])return _0x51d4f2[_0x4c517f]['exports'];var _0xaae1a1=_0x51d4f2[_0x4c517f]={'i':_0x4c517f,'l':!0x1,'exports':{}};return _0x284600[_0x4c517f][_0x1930ff(0x143)](_0xaae1a1[_0x1930ff(0x197)],_0xaae1a1,_0xaae1a1[_0x1930ff(0x197)],_0x35c46c),_0xaae1a1['l']=!0x0,_0xaae1a1[_0x1930ff(0x197)];}return _0x35c46c['m']=_0x284600,_0x35c46c['c']=_0x51d4f2,_0x35c46c['d']=function(_0x5149e5,_0x8e20e8,_0x19a204){var _0x11b199=a0_0x5c62;_0x35c46c['o'](_0x5149e5,_0x8e20e8)||Object[_0x11b199(0x1ec)](_0x5149e5,_0x8e20e8,{'enumerable':!0x0,'get':_0x19a204});},_0x35c46c['r']=function(_0x4e500f){var _0xc4b75f=a0_0x5c62;_0xc4b75f(0x237)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0xc4b75f(0x1ec)](_0x4e500f,Symbol[_0xc4b75f(0x203)],{'value':_0xc4b75f(0x13c)}),Object[_0xc4b75f(0x1ec)](_0x4e500f,_0xc4b75f(0x1c8),{'value':!0x0});},_0x35c46c['t']=function(_0x26096f,_0xa0f557){var _0x3670d6=a0_0x5c62;if(0x1&_0xa0f557&&(_0x26096f=_0x35c46c(_0x26096f)),0x8&_0xa0f557)return _0x26096f;if(0x4&_0xa0f557&&_0x3670d6(0x1f4)==typeof _0x26096f&&_0x26096f&&_0x26096f[_0x3670d6(0x1c8)])return _0x26096f;var _0x4a6246=Object['create'](null);if(_0x35c46c['r'](_0x4a6246),Object['defineProperty'](_0x4a6246,_0x3670d6(0x1fe),{'enumerable':!0x0,'value':_0x26096f}),0x2&_0xa0f557&&'string'!=typeof _0x26096f){for(var _0x19d7de in _0x26096f)_0x35c46c['d'](_0x4a6246,_0x19d7de,function(_0x1ae815){return _0x26096f[_0x1ae815];}['bind'](null,_0x19d7de));}return _0x4a6246;},_0x35c46c['n']=function(_0x4c247f){var _0x73a85=a0_0x5c62,_0x48b878=_0x4c247f&&_0x4c247f[_0x73a85(0x1c8)]?function(){var _0x4ceba2=_0x73a85;return _0x4c247f[_0x4ceba2(0x1fe)];}:function(){return _0x4c247f;};return _0x35c46c['d'](_0x48b878,'a',_0x48b878),_0x48b878;},_0x35c46c['o']=function(_0x1893c0,_0x297580){var _0x13ee5b=a0_0x5c62;return Object[_0x13ee5b(0x1b3)][_0x13ee5b(0x256)][_0x13ee5b(0x143)](_0x1893c0,_0x297580);},_0x35c46c['p']='',_0x35c46c(_0x35c46c['s']=0x14);}([function(_0x179edc,_0x4f7509){var _0x3f998f=a0_0x5c62;_0x179edc[_0x3f998f(0x197)]=_0x598efa;},function(_0x2d2510,_0x44ae06){var _0x2f5bb0=a0_0x5c62;_0x2d2510[_0x2f5bb0(0x197)]=function(_0x1ab4a1,_0x41d3ee){var _0x31859f=_0x2f5bb0;if(!(_0x1ab4a1 instanceof _0x41d3ee))throw new TypeError(_0x31859f(0x22f));};},function(_0x18c444,_0xfcf670){function _0x5c18bd(_0x1435f9,_0x256f4c){var _0x334ae3=a0_0x5c62;for(var _0x3ee10d=0x0;_0x3ee10d<_0x256f4c[_0x334ae3(0x295)];_0x3ee10d++){var _0x48f34d=_0x256f4c[_0x3ee10d];_0x48f34d['enumerable']=_0x48f34d[_0x334ae3(0x288)]||!0x1,_0x48f34d[_0x334ae3(0x214)]=!0x0,'value'in _0x48f34d&&(_0x48f34d[_0x334ae3(0x1ce)]=!0x0),Object[_0x334ae3(0x1ec)](_0x1435f9,_0x48f34d['key'],_0x48f34d);}}_0x18c444['exports']=function(_0x2782c4,_0xd2077d,_0x39055b){return _0xd2077d&&_0x5c18bd(_0x2782c4['prototype'],_0xd2077d),_0x39055b&&_0x5c18bd(_0x2782c4,_0x39055b),_0x2782c4;};},function(_0x1488bb,_0x218d4c){var _0x115d7f=a0_0x5c62;_0x1488bb[_0x115d7f(0x197)]=_0x5df7f6;},function(_0x26d9ba,_0x4abd8c){function _0x43b4ab(_0x2a63df){var _0x222b0f=a0_0x5c62;return _0x26d9ba[_0x222b0f(0x197)]=_0x43b4ab=Object[_0x222b0f(0x1c3)]?Object[_0x222b0f(0x1b4)]:function(_0x557d97){var _0x1496c9=_0x222b0f;return _0x557d97['__proto__']||Object[_0x1496c9(0x1b4)](_0x557d97);},_0x43b4ab(_0x2a63df);}_0x26d9ba['exports']=_0x43b4ab;},function(_0x177029,_0x340b32,_0xdeed7e){var _0x5e027e=a0_0x5c62,_0x4434ef=_0xdeed7e(0x11);_0x177029[_0x5e027e(0x197)]=function(_0x12671f,_0x4c6934){var _0x5cd960=_0x5e027e;if(_0x5cd960(0x22b)!=typeof _0x4c6934&&null!==_0x4c6934)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x12671f[_0x5cd960(0x1b3)]=Object['create'](_0x4c6934&&_0x4c6934['prototype'],{'constructor':{'value':_0x12671f,'writable':!0x0,'configurable':!0x0}}),_0x4c6934&&_0x4434ef(_0x12671f,_0x4c6934);};},function(_0x5e1982,_0x22fc1b,_0x401ff6){var _0x2117e1=_0x401ff6(0x12),_0x869874=_0x401ff6(0x13);_0x5e1982['exports']=function(_0x7c7641,_0x47851c){var _0x5f4fcb=a0_0x5c62;return!_0x47851c||_0x5f4fcb(0x1f4)!==_0x2117e1(_0x47851c)&&_0x5f4fcb(0x22b)!=typeof _0x47851c?_0x869874(_0x7c7641):_0x47851c;};},function(_0x49bac8,_0x27a785){var _0x3e68f3=a0_0x5c62;_0x49bac8['exports']=_0x3e68f3(0x202);},function(_0x506d07,_0xffaf9a){var _0x148467=a0_0x5c62;_0x506d07[_0x148467(0x197)]=_0x148467(0x14e);},function(_0xbff1bb,_0x499d80){var _0x225d83=a0_0x5c62;_0xbff1bb[_0x225d83(0x197)]=_0x225d83(0x1de);},function(_0x4df514,_0x550769){var _0x4be57e=a0_0x5c62;_0x4df514[_0x4be57e(0x197)]=_0x4be57e(0x1cb);},function(_0x166a53,_0x5319df){var _0x2012b7=a0_0x5c62;_0x166a53['exports']=_0x2012b7(0x15d);},function(_0x56d4fa,_0x5c3202){var _0x311031=a0_0x5c62;_0x56d4fa[_0x311031(0x197)]=_0x311031(0x15e);},function(_0x1365ca,_0xb77474){var _0x58fb5a=a0_0x5c62;_0x1365ca['exports']=_0x58fb5a(0x262);},function(_0xdfe99e,_0x135b2e){var _0x53b358=a0_0x5c62;_0xdfe99e[_0x53b358(0x197)]=_0x53b358(0x177);},function(_0x4befe6,_0x5b2825){var _0x2b10b8=a0_0x5c62;_0x4befe6[_0x2b10b8(0x197)]=_0x2b10b8(0x1eb);},function(_0x577e66,_0x117160){var _0xdf4e01=a0_0x5c62;_0x577e66['exports']=_0xdf4e01(0x243);},function(_0x5ba7ef,_0x465829){var _0x6eaaab=a0_0x5c62;function _0x3032fe(_0x4390fb,_0x3af687){var _0x304466=a0_0x5c62;return _0x5ba7ef[_0x304466(0x197)]=_0x3032fe=Object[_0x304466(0x1c3)]||function(_0xa1117e,_0x1a937a){return _0xa1117e['__proto__']=_0x1a937a,_0xa1117e;},_0x3032fe(_0x4390fb,_0x3af687);}_0x5ba7ef[_0x6eaaab(0x197)]=_0x3032fe;},function(_0x5ccf84,_0x26fe9f){function _0x589a3e(_0x1ffba2){var _0x209f96=a0_0x5c62;return _0x209f96(0x22b)==typeof Symbol&&'symbol'==typeof Symbol[_0x209f96(0x22e)]?_0x5ccf84[_0x209f96(0x197)]=_0x589a3e=function(_0xa985af){return typeof _0xa985af;}:_0x5ccf84['exports']=_0x589a3e=function(_0x1aa3b7){var _0x372dac=_0x209f96;return _0x1aa3b7&&_0x372dac(0x22b)==typeof Symbol&&_0x1aa3b7[_0x372dac(0x17a)]===Symbol&&_0x1aa3b7!==Symbol[_0x372dac(0x1b3)]?_0x372dac(0x14a):typeof _0x1aa3b7;},_0x589a3e(_0x1ffba2);}_0x5ccf84['exports']=_0x589a3e;},function(_0x4e2bba,_0x53b71e){var _0x119f9c=a0_0x5c62;_0x4e2bba[_0x119f9c(0x197)]=function(_0x40d77d){var _0x58cda7=_0x119f9c;if(void 0x0===_0x40d77d)throw new ReferenceError(_0x58cda7(0x176));return _0x40d77d;};},function(_0x33ef79,_0x12c702,_0x27b971){'use strict';var _0x4d1e3c=a0_0x5c62;_0x27b971['r'](_0x12c702),_0x27b971['d'](_0x12c702,'WindLayer',function(){return _0x2620b0;}),_0x27b971['d'](_0x12c702,_0x4d1e3c(0x181),function(){return _0x5a9904;}),_0x27b971['d'](_0x12c702,_0x4d1e3c(0x254),function(){return _0xccffd1;});var _0xccffd1={};_0x27b971['r'](_0xccffd1),_0x27b971['d'](_0xccffd1,_0x4d1e3c(0x1f6),function(){return _0xc5068d;}),_0x27b971['d'](_0xccffd1,_0x4d1e3c(0x238),function(){return _0x3d3fbd;}),_0x27b971['d'](_0xccffd1,_0x4d1e3c(0x144),function(){return _0x530c26;}),_0x27b971['d'](_0xccffd1,_0x4d1e3c(0x29a),function(){return _0x3d221e;});var _0x4d636a=_0x27b971(0x3),_0x1e5d67=_0x27b971(0x1),_0x312a01=_0x27b971['n'](_0x1e5d67),_0x26b483=_0x27b971(0x2),_0x1b10f8=_0x27b971['n'](_0x26b483),_0x67d8ef=_0x27b971(0x5),_0x44b4dd=_0x27b971['n'](_0x67d8ef),_0x53d622=_0x27b971(0x6),_0x47ca38=_0x27b971['n'](_0x53d622),_0x4ae0a2=_0x27b971(0x4),_0x442c80=_0x27b971['n'](_0x4ae0a2),_0x4cbd8a=_0x27b971(0x0),_0x297624=function(){var _0x3f65ae=_0x4d1e3c;function _0x57d745(_0x3f9b18){var _0x535459=a0_0x5c62;_0x312a01()(this,_0x57d745),this[_0x535459(0x226)]=_0x3f9b18['commandType'],this[_0x535459(0x19c)]=_0x3f9b18[_0x535459(0x19c)],this[_0x535459(0x1e5)]=_0x3f9b18[_0x535459(0x1e5)],this[_0x535459(0x1db)]=_0x3f9b18['primitiveType'],this[_0x535459(0x23e)]=_0x3f9b18[_0x535459(0x23e)],this['vertexShaderSource']=_0x3f9b18[_0x535459(0x210)],this['fragmentShaderSource']=_0x3f9b18[_0x535459(0x24f)],this[_0x535459(0x20f)]=_0x3f9b18[_0x535459(0x20f)],this[_0x535459(0x17e)]=_0x3f9b18[_0x535459(0x17e)],this[_0x535459(0x28e)]=_0x3f9b18[_0x535459(0x28e)],this['autoClear']=_0x4cbd8a[_0x535459(0x1c7)](_0x3f9b18[_0x535459(0x29c)],!0x1),this['preExecute']=_0x3f9b18[_0x535459(0x29e)],this[_0x535459(0x227)]=!0x0,this[_0x535459(0x26b)]=void 0x0,this[_0x535459(0x24a)]=void 0x0,this[_0x535459(0x29c)]&&(this[_0x535459(0x24a)]=new _0x4cbd8a[(_0x535459(0x18d))]({'color':new _0x4cbd8a[(_0x535459(0x294))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x535459(0x17e)],'pass':_0x4cbd8a[_0x535459(0x273)][_0x535459(0x207)]}));}return _0x1b10f8()(_0x57d745,[{'key':'createCommand','value':function(_0x225c24){var _0x21d946=a0_0x5c62;switch(this['commandType']){case _0x21d946(0x276):var _0x4feea6=_0x4cbd8a['VertexArray']['fromGeometry']({'context':_0x225c24,'geometry':this[_0x21d946(0x19c)],'attributeLocations':this[_0x21d946(0x1e5)],'bufferUsage':_0x4cbd8a[_0x21d946(0x25c)]['STATIC_DRAW']}),_0x55a823=_0x4cbd8a[_0x21d946(0x142)][_0x21d946(0x14c)]({'context':_0x225c24,'attributeLocations':this[_0x21d946(0x1e5)],'vertexShaderSource':this[_0x21d946(0x210)],'fragmentShaderSource':this[_0x21d946(0x24f)]}),_0x337350=_0x4cbd8a[_0x21d946(0x22a)][_0x21d946(0x14c)](this[_0x21d946(0x20f)]);return new _0x4cbd8a[(_0x21d946(0x1c9))]({'owner':this,'vertexArray':_0x4feea6,'primitiveType':this[_0x21d946(0x1db)],'uniformMap':this['uniformMap'],'modelMatrix':_0x4cbd8a['Matrix4'][_0x21d946(0x219)],'shaderProgram':_0x55a823,'framebuffer':this[_0x21d946(0x17e)],'renderState':_0x337350,'pass':_0x4cbd8a[_0x21d946(0x273)][_0x21d946(0x207)]});case _0x21d946(0x1df):return new _0x4cbd8a[(_0x21d946(0x271))]({'owner':this,'fragmentShaderSource':this[_0x21d946(0x24f)],'uniformMap':this[_0x21d946(0x23e)],'outputTexture':this[_0x21d946(0x28e)],'persists':!0x0});}}},{'key':_0x3f65ae(0x239),'value':function(_0x29db20,_0x402bcf){var _0x27f28d=_0x3f65ae;this[_0x27f28d(0x19c)]=_0x402bcf;var _0x6f3c1a=_0x4cbd8a[_0x27f28d(0x1f9)][_0x27f28d(0x13a)]({'context':_0x29db20,'geometry':this[_0x27f28d(0x19c)],'attributeLocations':this[_0x27f28d(0x1e5)],'bufferUsage':_0x4cbd8a[_0x27f28d(0x25c)]['STATIC_DRAW']});this['commandToExecute']['vertexArray']=_0x6f3c1a;}},{'key':'update','value':function(_0x60b82c){var _0x264c02=_0x3f65ae;this[_0x264c02(0x227)]&&_0x60b82c['mode']==_0x4cbd8a[_0x264c02(0x26d)][_0x264c02(0x1a5)]&&(_0x4cbd8a[_0x264c02(0x141)](this['commandToExecute'])||(this[_0x264c02(0x26b)]=this[_0x264c02(0x184)](_0x60b82c['context'])),_0x4cbd8a[_0x264c02(0x141)](this['preExecute'])&&this['preExecute'](),_0x4cbd8a[_0x264c02(0x141)](this[_0x264c02(0x24a)])&&_0x60b82c['commandList']['push'](this[_0x264c02(0x24a)]),_0x60b82c[_0x264c02(0x242)]['push'](this[_0x264c02(0x26b)]));}},{'key':_0x3f65ae(0x1d6),'value':function(){return!0x1;}},{'key':_0x3f65ae(0x279),'value':function(){var _0x537021=_0x3f65ae;return _0x4cbd8a[_0x537021(0x141)](this['commandToExecute'])&&(this[_0x537021(0x26b)][_0x537021(0x277)]=this[_0x537021(0x26b)]['shaderProgram']&&this[_0x537021(0x26b)][_0x537021(0x277)][_0x537021(0x279)]()),_0x4cbd8a[_0x537021(0x21b)](this);}}]),_0x57d745;}(),_0x155700={'getFullscreenQuad':function(){var _0x492e88=_0x4d1e3c;return new _0x4cbd8a[(_0x492e88(0x153))]({'attributes':new _0x4cbd8a[(_0x492e88(0x209))]({'position':new _0x4cbd8a[(_0x492e88(0x28f))]({'componentDatatype':_0x4cbd8a[_0x492e88(0x232)][_0x492e88(0x2a2)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x4cbd8a[(_0x492e88(0x28f))]({'componentDatatype':_0x4cbd8a['ComponentDatatype'][_0x492e88(0x2a2)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x3f4920,_0x51039d){var _0x1342b6=_0x4d1e3c;if(_0x4cbd8a[_0x1342b6(0x141)](_0x51039d)){var _0x58140b={};_0x58140b['arrayBufferView']=_0x51039d,_0x3f4920[_0x1342b6(0x298)]=_0x58140b;}return new _0x4cbd8a['Texture'](_0x3f4920);},'createFramebuffer':function(_0x319dd7,_0x4f9372,_0x12e8da){var _0xfdf42a=_0x4d1e3c;return new _0x4cbd8a[(_0xfdf42a(0x266))]({'context':_0x319dd7,'colorTextures':[_0x4f9372],'depthTexture':_0x12e8da});},'createRawRenderState':function(_0x12b160){var _0x2fc5d6=_0x4d1e3c,_0x5a2416={'viewport':_0x12b160[_0x2fc5d6(0x1b2)],'depthTest':_0x12b160[_0x2fc5d6(0x199)],'depthMask':_0x12b160['depthMask'],'blending':_0x12b160[_0x2fc5d6(0x249)]};return _0x4cbd8a['Appearance']['getDefaultRenderState'](!0x0,!0x1,_0x5a2416);},'viewRectangleToLonLatRange':function(_0x366334){var _0x1588ea=_0x4d1e3c,_0xac151d,_0xd09538,_0x2ebefe={},_0x3bf847=_0x4cbd8a['Math'][_0x1588ea(0x28b)](_0x366334[_0x1588ea(0x19d)],_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x28d)]),_0xdaa3e7=_0x4cbd8a['Math']['mod'](_0x366334['east'],_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x28d)]),_0x12f7eb=_0x366334[_0x1588ea(0x1c4)];_0x12f7eb>_0x4cbd8a[_0x1588ea(0x192)]['THREE_PI_OVER_TWO']?(_0xac151d=0x0,_0xd09538=_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x28d)]):_0xdaa3e7-_0x3bf847<_0x12f7eb?(_0xac151d=_0x3bf847,_0xd09538=_0x3bf847+_0x12f7eb):(_0xac151d=_0x3bf847,_0xd09538=_0xdaa3e7),_0x2ebefe['lon']={'min':_0x4cbd8a[_0x1588ea(0x192)]['toDegrees'](_0xac151d),'max':_0x4cbd8a['Math']['toDegrees'](_0xd09538)};var _0x1e379f=_0x366334['south'],_0x257cae=_0x366334['north'],_0x38f256=_0x366334[_0x1588ea(0x258)],_0x5c9e63=_0x38f256>_0x4cbd8a[_0x1588ea(0x192)]['PI']/0xc?_0x38f256/0x2:0x0,_0x56fb94=_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x1fd)](_0x1e379f-_0x5c9e63),_0x259394=_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x1fd)](_0x257cae+_0x5c9e63);return _0x56fb94<-_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x1e2)]&&(_0x56fb94=-_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x1b6)]),_0x259394>_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x1e2)]&&(_0x259394=_0x4cbd8a[_0x1588ea(0x192)]['PI_OVER_TWO']),_0x2ebefe[_0x1588ea(0x167)]={'min':_0x4cbd8a[_0x1588ea(0x192)][_0x1588ea(0x28c)](_0x56fb94),'max':_0x4cbd8a[_0x1588ea(0x192)]['toDegrees'](_0x259394)},_0x2ebefe;}},_0x4b180f=_0x27b971(0x8),_0x10c3ae=_0x27b971['n'](_0x4b180f),_0xf6823d=_0x27b971(0x9),_0x301165=_0x27b971['n'](_0xf6823d),_0x4a8b21=_0x27b971(0x7),_0x33cac4=_0x27b971['n'](_0x4a8b21),_0x4b8bd4=_0x27b971(0xa),_0x1f0fd0=_0x27b971['n'](_0x4b8bd4),_0x18122b=_0x27b971(0xb),_0x23bdc0=_0x27b971['n'](_0x18122b),_0x3f9b56=function(){var _0x4c4492=_0x4d1e3c;function _0x1d9f28(_0x527394,_0x1afdbf,_0xf6dcc0,_0x430716,_0x498e2e){var _0x587af9=a0_0x5c62;_0x312a01()(this,_0x1d9f28),this[_0x587af9(0x157)](_0x527394,_0x1afdbf),this[_0x587af9(0x23b)](_0x527394),this[_0x587af9(0x20c)](_0x527394,_0xf6dcc0,_0x430716,_0x498e2e);}return _0x1b10f8()(_0x1d9f28,[{'key':_0x4c4492(0x157),'value':function(_0x33fa52,_0x2bcf10){var _0x250238=_0x4c4492,_0x6ac158={'context':_0x33fa52,'width':_0x33fa52['drawingBufferWidth'],'height':_0x33fa52[_0x250238(0x289)],'pixelFormat':_0x4cbd8a[_0x250238(0x257)][_0x250238(0x174)],'pixelDatatype':_0x4cbd8a[_0x250238(0x22d)]['UNSIGNED_BYTE']},_0x2b74a5={'context':_0x33fa52,'width':_0x33fa52[_0x250238(0x18b)],'height':_0x33fa52[_0x250238(0x289)],'pixelFormat':_0x4cbd8a[_0x250238(0x257)]['DEPTH_COMPONENT'],'pixelDatatype':_0x4cbd8a[_0x250238(0x22d)][_0x250238(0x156)]},_0x3276ad={'context':_0x33fa52,'width':_0x2bcf10['colorTable'][_0x250238(0x155)],'height':0x1,'pixelFormat':_0x4cbd8a[_0x250238(0x257)][_0x250238(0x148)],'pixelDatatype':_0x4cbd8a[_0x250238(0x22d)][_0x250238(0x2a2)],'sampler':new _0x4cbd8a[(_0x250238(0x299))]({'minificationFilter':_0x4cbd8a[_0x250238(0x158)][_0x250238(0x28a)],'magnificationFilter':_0x4cbd8a[_0x250238(0x27c)][_0x250238(0x28a)]})};this[_0x250238(0x186)]={'segmentsColor':_0x155700['createTexture'](_0x6ac158),'segmentsDepth':_0x155700[_0x250238(0x139)](_0x2b74a5),'currentTrailsColor':_0x155700[_0x250238(0x139)](_0x6ac158),'currentTrailsDepth':_0x155700[_0x250238(0x139)](_0x2b74a5),'nextTrailsColor':_0x155700[_0x250238(0x139)](_0x6ac158),'nextTrailsDepth':_0x155700[_0x250238(0x139)](_0x2b74a5),'colorTable':_0x155700[_0x250238(0x139)](_0x3276ad,_0x2bcf10[_0x250238(0x14b)][_0x250238(0x1dc)])};}},{'key':_0x4c4492(0x23b),'value':function(_0x247394){var _0x51d1fa=_0x4c4492;this[_0x51d1fa(0x15a)]={'segments':_0x155700['createFramebuffer'](_0x247394,this[_0x51d1fa(0x186)][_0x51d1fa(0x268)],this[_0x51d1fa(0x186)][_0x51d1fa(0x1d5)]),'currentTrails':_0x155700[_0x51d1fa(0x270)](_0x247394,this[_0x51d1fa(0x186)][_0x51d1fa(0x17d)],this['textures']['currentTrailsDepth']),'nextTrails':_0x155700[_0x51d1fa(0x270)](_0x247394,this[_0x51d1fa(0x186)][_0x51d1fa(0x26a)],this[_0x51d1fa(0x186)][_0x51d1fa(0x275)])};}},{'key':_0x4c4492(0x16b),'value':function(_0x593c77){var _0x24d63f=_0x4c4492;for(var _0xc627b3=[],_0x12ecfc=0x0;_0x12ecfc<_0x593c77['particlesTextureSize'];_0x12ecfc++)for(var _0x44b914=0x0;_0x44b914<_0x593c77['particlesTextureSize'];_0x44b914++)for(var _0x1c5166=0x0;_0x1c5166<0x4;_0x1c5166++)_0xc627b3[_0x24d63f(0x183)](_0x12ecfc/_0x593c77[_0x24d63f(0x21a)]),_0xc627b3[_0x24d63f(0x183)](_0x44b914/_0x593c77[_0x24d63f(0x21a)]);_0xc627b3=new Float32Array(_0xc627b3);for(var _0x4a7d5b=[],_0x5638f4=[-0x1,0x1],_0x22c9b5=[-0x1,0x1],_0x1317b9=0x0;_0x1317b9<_0x593c77[_0x24d63f(0x152)];_0x1317b9++)for(var _0x789f78=0x0;_0x789f78<0x2;_0x789f78++)for(var _0x47fdac=0x0;_0x47fdac<0x2;_0x47fdac++)_0x4a7d5b[_0x24d63f(0x183)](_0x5638f4[_0x789f78]),_0x4a7d5b['push'](_0x22c9b5[_0x47fdac]),_0x4a7d5b['push'](0x0);_0x4a7d5b=new Float32Array(_0x4a7d5b);for(var _0x12e314=0x6*_0x593c77[_0x24d63f(0x152)],_0x5663e2=new Uint32Array(_0x12e314),_0x581c39=0x0,_0x3016da=0x0,_0x57e2ed=0x0;_0x581c39<_0x593c77[_0x24d63f(0x152)];_0x581c39++)_0x5663e2[_0x3016da++]=_0x57e2ed+0x0,_0x5663e2[_0x3016da++]=_0x57e2ed+0x1,_0x5663e2[_0x3016da++]=_0x57e2ed+0x2,_0x5663e2[_0x3016da++]=_0x57e2ed+0x2,_0x5663e2[_0x3016da++]=_0x57e2ed+0x1,_0x5663e2[_0x3016da++]=_0x57e2ed+0x3,_0x57e2ed+=0x4;return new _0x4cbd8a[(_0x24d63f(0x153))]({'attributes':new _0x4cbd8a[(_0x24d63f(0x209))]({'st':new _0x4cbd8a[(_0x24d63f(0x28f))]({'componentDatatype':_0x4cbd8a[_0x24d63f(0x232)][_0x24d63f(0x2a2)],'componentsPerAttribute':0x2,'values':_0xc627b3}),'normal':new _0x4cbd8a[(_0x24d63f(0x28f))]({'componentDatatype':_0x4cbd8a[_0x24d63f(0x232)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0x4a7d5b})}),'indices':_0x5663e2});}},{'key':_0x4c4492(0x20c),'value':function(_0xfc8f08,_0x56f164,_0x33061c,_0x28c25d){var _0x58f4a4=_0x4c4492,_0x3c86a5=this;this[_0x58f4a4(0x287)]={'segments':new _0x297624({'commandType':_0x58f4a4(0x276),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x58f4a4(0x16b)](_0x56f164),'primitiveType':_0x4cbd8a[_0x58f4a4(0x255)][_0x58f4a4(0x1cc)],'uniformMap':{'currentParticlesPosition':function(){var _0x37c573=_0x58f4a4;return _0x28c25d[_0x37c573(0x1cd)]['currentParticlesPosition'];},'postProcessingPosition':function(){var _0x356e0b=_0x58f4a4;return _0x28c25d[_0x356e0b(0x1cd)][_0x356e0b(0x1b7)];},'postProcessingSpeed':function(){var _0x3310ab=_0x58f4a4;return _0x28c25d[_0x3310ab(0x1cd)]['postProcessingSpeed'];},'colorTable':function(){var _0x1557b6=_0x58f4a4;return _0x3c86a5[_0x1557b6(0x186)]['colorTable'];},'aspect':function(){var _0x488fa0=_0x58f4a4;return _0xfc8f08[_0x488fa0(0x18b)]/_0xfc8f08['drawingBufferHeight'];},'pixelSize':function(){return _0x33061c['pixelSize'];},'lineWidth':function(){var _0x366cc5=_0x58f4a4;return _0x56f164[_0x366cc5(0x26f)];},'particleHeight':function(){var _0x4e87b1=_0x58f4a4;return _0x56f164[_0x4e87b1(0x14f)];}},'vertexShaderSource':new _0x4cbd8a['ShaderSource']({'sources':[_0x10c3ae['a']]}),'fragmentShaderSource':new _0x4cbd8a['ShaderSource']({'sources':[_0x301165['a']]}),'rawRenderState':_0x155700['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x58f4a4(0x15a)][_0x58f4a4(0x1c0)],'autoClear':!0x0}),'trails':new _0x297624({'commandType':_0x58f4a4(0x276),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x155700[_0x58f4a4(0x191)](),'primitiveType':_0x4cbd8a[_0x58f4a4(0x255)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){var _0x2de8da=_0x58f4a4;return _0x3c86a5[_0x2de8da(0x186)][_0x2de8da(0x268)];},'segmentsDepthTexture':function(){return _0x3c86a5['textures']['segmentsDepth'];},'currentTrailsColor':function(){var _0x2f2247=_0x58f4a4;return _0x3c86a5[_0x2f2247(0x15a)][_0x2f2247(0x180)][_0x2f2247(0x21f)](0x0);},'trailsDepthTexture':function(){var _0x3c3ea9=_0x58f4a4;return _0x3c86a5[_0x3c3ea9(0x15a)][_0x3c3ea9(0x180)][_0x3c3ea9(0x246)];},'fadeOpacity':function(){var _0x5c348d=_0x58f4a4;return _0x56f164[_0x5c348d(0x1e7)];}},'vertexShaderSource':new _0x4cbd8a['ShaderSource']({'defines':[_0x58f4a4(0x236)],'sources':[_0x33cac4['a']]}),'fragmentShaderSource':new _0x4cbd8a['ShaderSource']({'defines':[_0x58f4a4(0x1ff)],'sources':[_0x1f0fd0['a']]}),'rawRenderState':_0x155700[_0x58f4a4(0x166)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x4cbd8a[_0x58f4a4(0x17c)][_0x58f4a4(0x264)]},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x58f4a4(0x244)],'autoClear':!0x0,'preExecute':function(){var _0x197e6f=_0x58f4a4,_0x5357e6;_0x5357e6=_0x3c86a5[_0x197e6f(0x15a)][_0x197e6f(0x180)],_0x3c86a5['framebuffers']['currentTrails']=_0x3c86a5[_0x197e6f(0x15a)][_0x197e6f(0x244)],_0x3c86a5[_0x197e6f(0x15a)]['nextTrails']=_0x5357e6,_0x3c86a5[_0x197e6f(0x287)][_0x197e6f(0x173)][_0x197e6f(0x26b)][_0x197e6f(0x17e)]=_0x3c86a5['framebuffers'][_0x197e6f(0x244)],_0x3c86a5[_0x197e6f(0x287)][_0x197e6f(0x173)]['clearCommand']['framebuffer']=_0x3c86a5[_0x197e6f(0x15a)][_0x197e6f(0x244)];}}),'screen':new _0x297624({'commandType':_0x58f4a4(0x276),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x155700[_0x58f4a4(0x191)](),'primitiveType':_0x4cbd8a[_0x58f4a4(0x255)][_0x58f4a4(0x1cc)],'uniformMap':{'trailsColorTexture':function(){var _0x216a56=_0x58f4a4;return _0x3c86a5['framebuffers']['nextTrails'][_0x216a56(0x21f)](0x0);},'trailsDepthTexture':function(){var _0x406645=_0x58f4a4;return _0x3c86a5[_0x406645(0x15a)]['nextTrails'][_0x406645(0x246)];}},'vertexShaderSource':new _0x4cbd8a[(_0x58f4a4(0x25d))]({'defines':[_0x58f4a4(0x236)],'sources':[_0x33cac4['a']]}),'fragmentShaderSource':new _0x4cbd8a[(_0x58f4a4(0x25d))]({'defines':[_0x58f4a4(0x1ff)],'sources':[_0x23bdc0['a']]}),'rawRenderState':_0x155700[_0x58f4a4(0x166)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x1d9f28;}(),_0x10a4dd=_0x27b971(0xc),_0x2b39b4=_0x27b971['n'](_0x10a4dd),_0x4cd064=_0x27b971(0xd),_0x5069e1=_0x27b971['n'](_0x4cd064),_0xf19ad8=_0x27b971(0xe),_0x2a38c0=_0x27b971['n'](_0xf19ad8),_0xd74f67=_0x27b971(0xf),_0x1da92e=_0x27b971['n'](_0xd74f67),_0x5857d0=_0x27b971(0x10),_0x5d9f03=_0x27b971['n'](_0x5857d0),_0x11207f=function(){var _0x322d44=_0x4d1e3c;function _0x13b074(_0x5c30c1,_0x21be2,_0x1eae10,_0x17a6a5){var _0xb12d=a0_0x5c62;_0x312a01()(this,_0x13b074),this[_0xb12d(0x1a3)]=_0x21be2,this[_0xb12d(0x223)](_0x5c30c1,_0x21be2),this[_0xb12d(0x281)](_0x5c30c1,_0x1eae10,_0x17a6a5),this[_0xb12d(0x293)](_0x21be2,_0x1eae10,_0x17a6a5);}return _0x1b10f8()(_0x13b074,[{'key':'createWindTextures','value':function(_0x33da68,_0x4467b6){var _0x11ae18=a0_0x5c62,_0x4661c6={'context':_0x33da68,'width':_0x4467b6[_0x11ae18(0x1ac)][_0x11ae18(0x13f)],'height':_0x4467b6[_0x11ae18(0x1ac)][_0x11ae18(0x167)]*_0x4467b6[_0x11ae18(0x1ac)][_0x11ae18(0x1c2)],'pixelFormat':_0x4cbd8a[_0x11ae18(0x257)][_0x11ae18(0x1c1)],'pixelDatatype':_0x4cbd8a['PixelDatatype'][_0x11ae18(0x2a2)],'flipY':!0x1,'sampler':new _0x4cbd8a[(_0x11ae18(0x299))]({'minificationFilter':_0x4cbd8a[_0x11ae18(0x158)][_0x11ae18(0x1c6)],'magnificationFilter':_0x4cbd8a[_0x11ae18(0x27c)]['NEAREST']})};this[_0x11ae18(0x13e)]={'U':_0x155700['createTexture'](_0x4661c6,_0x4467b6['U'][_0x11ae18(0x1dc)]),'V':_0x155700['createTexture'](_0x4661c6,_0x4467b6['V'][_0x11ae18(0x1dc)])};}},{'key':_0x322d44(0x281),'value':function(_0x1a101,_0x1fbc94,_0x36de37){var _0x29eb30=_0x322d44,_0x3a53a0={'context':_0x1a101,'width':_0x1fbc94[_0x29eb30(0x21a)],'height':_0x1fbc94[_0x29eb30(0x21a)],'pixelFormat':_0x4cbd8a[_0x29eb30(0x257)]['RGBA'],'pixelDatatype':_0x4cbd8a[_0x29eb30(0x22d)][_0x29eb30(0x2a2)],'flipY':!0x1,'sampler':new _0x4cbd8a['Sampler']({'minificationFilter':_0x4cbd8a[_0x29eb30(0x158)]['NEAREST'],'magnificationFilter':_0x4cbd8a['TextureMagnificationFilter'][_0x29eb30(0x1c6)]})},_0x1ee015=this['randomizeParticles'](_0x1fbc94[_0x29eb30(0x152)],_0x36de37),_0x1748f8=new Float32Array(0x4*_0x1fbc94[_0x29eb30(0x152)])[_0x29eb30(0x206)](0x0);this['particlesTextures']={'particlesWind':_0x155700[_0x29eb30(0x139)](_0x3a53a0),'currentParticlesPosition':_0x155700[_0x29eb30(0x139)](_0x3a53a0,_0x1ee015),'nextParticlesPosition':_0x155700[_0x29eb30(0x139)](_0x3a53a0,_0x1ee015),'currentParticlesSpeed':_0x155700['createTexture'](_0x3a53a0,_0x1748f8),'nextParticlesSpeed':_0x155700[_0x29eb30(0x139)](_0x3a53a0,_0x1748f8),'postProcessingPosition':_0x155700[_0x29eb30(0x139)](_0x3a53a0,_0x1ee015),'postProcessingSpeed':_0x155700[_0x29eb30(0x139)](_0x3a53a0,_0x1748f8)};}},{'key':_0x322d44(0x280),'value':function(_0x5cca4d,_0x65968f){var _0x505a00=_0x322d44;for(var _0x4820fa=new Float32Array(0x4*_0x5cca4d),_0x4f9e41=0x0;_0x4f9e41<_0x5cca4d;_0x4f9e41++)_0x4820fa[0x4*_0x4f9e41]=_0x4cbd8a['Math'][_0x505a00(0x16e)](_0x65968f['lonRange']['x'],_0x65968f[_0x505a00(0x23c)]['y']),_0x4820fa[0x4*_0x4f9e41+0x1]=_0x4cbd8a['Math'][_0x505a00(0x16e)](_0x65968f[_0x505a00(0x21d)]['x'],_0x65968f[_0x505a00(0x21d)]['y']),_0x4820fa[0x4*_0x4f9e41+0x2]=_0x4cbd8a[_0x505a00(0x192)]['randomBetween'](this['data'][_0x505a00(0x1c2)][_0x505a00(0x1ae)],this['data']['lev'][_0x505a00(0x1a4)]),_0x4820fa[0x4*_0x4f9e41+0x3]=0x0;return _0x4820fa;}},{'key':_0x322d44(0x1ef),'value':function(){var _0x454a33=_0x322d44,_0x2305ec=this;Object[_0x454a33(0x189)](this[_0x454a33(0x1cd)])[_0x454a33(0x13b)](function(_0x1a960f){var _0x5dbe4e=_0x454a33;_0x2305ec[_0x5dbe4e(0x1cd)][_0x1a960f]['destroy']();});}},{'key':_0x322d44(0x293),'value':function(_0x50f90f,_0x5f4320,_0x31f2dd){var _0x27d0ca=_0x322d44,_0x3d264f=new _0x4cbd8a['Cartesian3'](_0x50f90f['dimensions'][_0x27d0ca(0x13f)],_0x50f90f[_0x27d0ca(0x1ac)]['lat'],_0x50f90f[_0x27d0ca(0x1ac)][_0x27d0ca(0x1c2)]),_0x541cca=new _0x4cbd8a['Cartesian3'](_0x50f90f[_0x27d0ca(0x13f)][_0x27d0ca(0x1ae)],_0x50f90f[_0x27d0ca(0x167)]['min'],_0x50f90f[_0x27d0ca(0x1c2)][_0x27d0ca(0x1ae)]),_0x3a6e3b=new _0x4cbd8a['Cartesian3'](_0x50f90f[_0x27d0ca(0x13f)][_0x27d0ca(0x1a4)],_0x50f90f[_0x27d0ca(0x167)]['max'],_0x50f90f['lev'][_0x27d0ca(0x1a4)]),_0x12e084=new _0x4cbd8a['Cartesian3']((_0x3a6e3b['x']-_0x541cca['x'])/(_0x3d264f['x']-0x1),(_0x3a6e3b['y']-_0x541cca['y'])/(_0x3d264f['y']-0x1),_0x3d264f['z']>0x1?(_0x3a6e3b['z']-_0x541cca['z'])/(_0x3d264f['z']-0x1):0x1),_0x15bb49=new _0x4cbd8a['Cartesian2'](_0x50f90f['U'][_0x27d0ca(0x1ae)],_0x50f90f['U'][_0x27d0ca(0x1a4)]),_0x3e5811=new _0x4cbd8a[(_0x27d0ca(0x225))](_0x50f90f['V'][_0x27d0ca(0x1ae)],_0x50f90f['V']['max']),_0x2f2f1f=this;this['primitives']={'getWind':new _0x297624({'commandType':'Compute','uniformMap':{'U':function(){var _0x1cade8=_0x27d0ca;return _0x2f2f1f[_0x1cade8(0x13e)]['U'];},'V':function(){var _0x10f61a=_0x27d0ca;return _0x2f2f1f[_0x10f61a(0x13e)]['V'];},'currentParticlesPosition':function(){var _0x2aab8c=_0x27d0ca;return _0x2f2f1f['particlesTextures'][_0x2aab8c(0x1d1)];},'dimension':function(){return _0x3d264f;},'minimum':function(){return _0x541cca;},'maximum':function(){return _0x3a6e3b;},'interval':function(){return _0x12e084;}},'fragmentShaderSource':new _0x4cbd8a['ShaderSource']({'sources':[_0x2b39b4['a']]}),'outputTexture':this['particlesTextures']['particlesWind'],'preExecute':function(){var _0x86cd1e=_0x27d0ca;_0x2f2f1f[_0x86cd1e(0x287)][_0x86cd1e(0x212)][_0x86cd1e(0x26b)]['outputTexture']=_0x2f2f1f[_0x86cd1e(0x1cd)]['particlesWind'];}}),'updateSpeed':new _0x297624({'commandType':_0x27d0ca(0x1df),'uniformMap':{'currentParticlesSpeed':function(){var _0x24cf8b=_0x27d0ca;return _0x2f2f1f['particlesTextures'][_0x24cf8b(0x1e6)];},'particlesWind':function(){var _0x42d547=_0x27d0ca;return _0x2f2f1f[_0x42d547(0x1cd)]['particlesWind'];},'uSpeedRange':function(){return _0x15bb49;},'vSpeedRange':function(){return _0x3e5811;},'pixelSize':function(){var _0x5511d2=_0x27d0ca;return _0x31f2dd[_0x5511d2(0x151)];},'speedFactor':function(){var _0x347d20=_0x27d0ca;return _0x5f4320[_0x347d20(0x278)];}},'fragmentShaderSource':new _0x4cbd8a['ShaderSource']({'sources':[_0x5069e1['a']]}),'outputTexture':this[_0x27d0ca(0x1cd)]['nextParticlesSpeed'],'preExecute':function(){var _0xa275f3=_0x27d0ca,_0x1e0c45;_0x1e0c45=_0x2f2f1f[_0xa275f3(0x1cd)][_0xa275f3(0x1e6)],_0x2f2f1f['particlesTextures'][_0xa275f3(0x1e6)]=_0x2f2f1f[_0xa275f3(0x1cd)][_0xa275f3(0x18f)],_0x2f2f1f[_0xa275f3(0x1cd)][_0xa275f3(0x18f)]=_0x1e0c45,_0x2f2f1f[_0xa275f3(0x287)][_0xa275f3(0x1a6)][_0xa275f3(0x26b)]['outputTexture']=_0x2f2f1f[_0xa275f3(0x1cd)]['nextParticlesSpeed'];}}),'updatePosition':new _0x297624({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){var _0x3336e7=_0x27d0ca;return _0x2f2f1f[_0x3336e7(0x1cd)][_0x3336e7(0x1d1)];},'currentParticlesSpeed':function(){var _0x50ef8f=_0x27d0ca;return _0x2f2f1f[_0x50ef8f(0x1cd)]['currentParticlesSpeed'];}},'fragmentShaderSource':new _0x4cbd8a[(_0x27d0ca(0x25d))]({'sources':[_0x2a38c0['a']]}),'outputTexture':this[_0x27d0ca(0x1cd)]['nextParticlesPosition'],'preExecute':function(){var _0x3d7b73=_0x27d0ca,_0x2f799a;_0x2f799a=_0x2f2f1f[_0x3d7b73(0x1cd)][_0x3d7b73(0x1d1)],_0x2f2f1f[_0x3d7b73(0x1cd)][_0x3d7b73(0x1d1)]=_0x2f2f1f[_0x3d7b73(0x1cd)][_0x3d7b73(0x1b7)],_0x2f2f1f[_0x3d7b73(0x1cd)]['postProcessingPosition']=_0x2f799a,_0x2f2f1f[_0x3d7b73(0x287)][_0x3d7b73(0x161)]['commandToExecute']['outputTexture']=_0x2f2f1f['particlesTextures']['nextParticlesPosition'];}}),'postProcessingPosition':new _0x297624({'commandType':_0x27d0ca(0x1df),'uniformMap':{'nextParticlesPosition':function(){var _0x19a8f5=_0x27d0ca;return _0x2f2f1f[_0x19a8f5(0x1cd)][_0x19a8f5(0x145)];},'nextParticlesSpeed':function(){var _0x16ae1f=_0x27d0ca;return _0x2f2f1f[_0x16ae1f(0x1cd)]['nextParticlesSpeed'];},'lonRange':function(){var _0x4e135a=_0x27d0ca;return _0x31f2dd[_0x4e135a(0x23c)];},'latRange':function(){var _0x3db6b5=_0x27d0ca;return _0x31f2dd[_0x3db6b5(0x21d)];},'randomCoefficient':function(){var _0x376792=_0x27d0ca,_0x22cd00=Math[_0x376792(0x291)]();return _0x22cd00;},'dropRate':function(){return _0x5f4320['dropRate'];},'dropRateBump':function(){return _0x5f4320['dropRateBump'];}},'fragmentShaderSource':new _0x4cbd8a[(_0x27d0ca(0x25d))]({'sources':[_0x1da92e['a']]}),'outputTexture':this[_0x27d0ca(0x1cd)][_0x27d0ca(0x1b7)],'preExecute':function(){var _0x42fdac=_0x27d0ca;_0x2f2f1f['primitives'][_0x42fdac(0x1b7)]['commandToExecute'][_0x42fdac(0x28e)]=_0x2f2f1f[_0x42fdac(0x1cd)][_0x42fdac(0x1b7)];}}),'postProcessingSpeed':new _0x297624({'commandType':_0x27d0ca(0x1df),'uniformMap':{'postProcessingPosition':function(){return _0x2f2f1f['particlesTextures']['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x4a699d=_0x27d0ca;return _0x2f2f1f[_0x4a699d(0x1cd)][_0x4a699d(0x1d7)];}},'fragmentShaderSource':new _0x4cbd8a[(_0x27d0ca(0x25d))]({'sources':[_0x5d9f03['a']]}),'outputTexture':this[_0x27d0ca(0x1cd)][_0x27d0ca(0x18f)],'preExecute':function(){var _0x49bbd7=_0x27d0ca;_0x2f2f1f[_0x49bbd7(0x287)]['postProcessingSpeed'][_0x49bbd7(0x26b)][_0x49bbd7(0x28e)]=_0x2f2f1f['particlesTextures']['postProcessingSpeed'];}})};}}]),_0x13b074;}(),_0x59e609=function(){var _0x201c22=_0x4d1e3c;function _0x4c06e4(_0x2581cb,_0x4155b6,_0x2e718b,_0x504760){var _0x370ae1=a0_0x5c62;_0x312a01()(this,_0x4c06e4),this[_0x370ae1(0x16d)]=_0x2581cb,this['data']=_0x4155b6,this[_0x370ae1(0x24d)]=_0x2e718b,this[_0x370ae1(0x1b1)]=_0x504760,this[_0x370ae1(0x137)]=new _0x11207f(this[_0x370ae1(0x16d)],this['data'],this[_0x370ae1(0x24d)],this[_0x370ae1(0x1b1)]),this['particlesRendering']=new _0x3f9b56(this[_0x370ae1(0x16d)],this[_0x370ae1(0x1a3)],this[_0x370ae1(0x24d)],this['viewerParameters'],this[_0x370ae1(0x137)]);}return _0x1b10f8()(_0x4c06e4,[{'key':_0x201c22(0x200),'value':function(_0x287264){var _0x51d625=_0x201c22,_0x1cbabe=this;this[_0x51d625(0x137)][_0x51d625(0x1ef)](),Object[_0x51d625(0x189)](this[_0x51d625(0x137)][_0x51d625(0x13e)])[_0x51d625(0x13b)](function(_0x51ca25){var _0x34e38c=_0x51d625;_0x1cbabe[_0x34e38c(0x137)]['windTextures'][_0x51ca25]['destroy']();}),this[_0x51d625(0x248)][_0x51d625(0x186)][_0x51d625(0x14b)][_0x51d625(0x279)](),Object[_0x51d625(0x189)](this[_0x51d625(0x248)][_0x51d625(0x15a)])[_0x51d625(0x13b)](function(_0x145ddc){var _0x3a9d17=_0x51d625;_0x1cbabe['particlesRendering']['framebuffers'][_0x145ddc][_0x3a9d17(0x279)]();}),this['context']=_0x287264,this[_0x51d625(0x137)]=new _0x11207f(this[_0x51d625(0x16d)],this['data'],this[_0x51d625(0x24d)],this[_0x51d625(0x1b1)]),this[_0x51d625(0x248)]=new _0x3f9b56(this[_0x51d625(0x16d)],this[_0x51d625(0x1a3)],this[_0x51d625(0x24d)],this['viewerParameters'],this['particlesComputing']);}},{'key':_0x201c22(0x17b),'value':function(){var _0x584e9b=_0x201c22,_0x4d0fb3=this,_0x22b135=new _0x4cbd8a[(_0x584e9b(0x18d))]({'color':new _0x4cbd8a[(_0x584e9b(0x294))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x4cbd8a[_0x584e9b(0x273)]['OPAQUE']});Object['keys'](this[_0x584e9b(0x248)][_0x584e9b(0x15a)])['forEach'](function(_0x338a1a){var _0x22e830=_0x584e9b;_0x22b135[_0x22e830(0x17e)]=_0x4d0fb3[_0x22e830(0x248)][_0x22e830(0x15a)][_0x338a1a],_0x22b135[_0x22e830(0x178)](_0x4d0fb3[_0x22e830(0x16d)]);});}},{'key':_0x201c22(0x171),'value':function(_0x3deb83){var _0x37730a=_0x201c22;if(this[_0x37730a(0x17b)](),this['particlesComputing'][_0x37730a(0x1ef)](),this[_0x37730a(0x137)]['createParticlesTextures'](this[_0x37730a(0x16d)],this[_0x37730a(0x24d)],this[_0x37730a(0x1b1)]),_0x3deb83){var _0x37f522=this[_0x37730a(0x248)]['createSegmentsGeometry'](this[_0x37730a(0x24d)]);this[_0x37730a(0x248)][_0x37730a(0x287)]['segments'][_0x37730a(0x19c)]=_0x37f522;var _0x37e251=_0x4cbd8a['VertexArray']['fromGeometry']({'context':this[_0x37730a(0x16d)],'geometry':_0x37f522,'attributeLocations':this[_0x37730a(0x248)][_0x37730a(0x287)][_0x37730a(0x1c0)][_0x37730a(0x1e5)],'bufferUsage':_0x4cbd8a[_0x37730a(0x25c)][_0x37730a(0x29f)]});this[_0x37730a(0x248)]['primitives'][_0x37730a(0x1c0)][_0x37730a(0x26b)][_0x37730a(0x188)]=_0x37e251;}}},{'key':_0x201c22(0x14d),'value':function(_0x2c83fa){var _0x539fea=_0x201c22,_0x341e9b=this,_0x5e297c=!0x1;this['userInput'][_0x539fea(0x152)]!=_0x2c83fa['maxParticles']&&(_0x5e297c=!0x0),Object['keys'](_0x2c83fa)[_0x539fea(0x13b)](function(_0xd5aa2d){_0x341e9b['userInput'][_0xd5aa2d]=_0x2c83fa[_0xd5aa2d];}),this[_0x539fea(0x171)](_0x5e297c);}},{'key':_0x201c22(0x15f),'value':function(_0x3a6969){var _0xf27c4=_0x201c22,_0x4759af=this;Object[_0xf27c4(0x189)](_0x3a6969)[_0xf27c4(0x13b)](function(_0x1404ae){var _0x373166=_0xf27c4;_0x4759af[_0x373166(0x1b1)][_0x1404ae]=_0x3a6969[_0x1404ae];}),this[_0xf27c4(0x171)](!0x1);}}]),_0x4c06e4;}();function _0x20bbd8(_0x2f65ae){var _0x1a1586=function(){var _0x454430=a0_0x5c62;if('undefined'==typeof Reflect||!Reflect[_0x454430(0x160)])return!0x1;if(Reflect[_0x454430(0x160)]['sham'])return!0x1;if(_0x454430(0x22b)==typeof Proxy)return!0x0;try{return Boolean[_0x454430(0x1b3)][_0x454430(0x25f)][_0x454430(0x143)](Reflect[_0x454430(0x160)](Boolean,[],function(){})),!0x0;}catch(_0x4ab53f){return!0x1;}}();return function(){var _0x24374e=a0_0x5c62,_0x150b87,_0x5a62d2=_0x442c80()(_0x2f65ae);if(_0x1a1586){var _0x33d7ee=_0x442c80()(this)[_0x24374e(0x17a)];_0x150b87=Reflect[_0x24374e(0x160)](_0x5a62d2,arguments,_0x33d7ee);}else _0x150b87=_0x5a62d2[_0x24374e(0x23a)](this,arguments);return _0x47ca38()(this,_0x150b87);};}var _0x45d9da=_0x4d636a[_0x4d1e3c(0x211)][_0x4d1e3c(0x21e)],_0x4a5d9a=0x1000,_0xe35a37=0x64,_0x81f2=0.996,_0x267bb3=0.003,_0x67bb52=0.01,_0x18aa27=0.5,_0x2069c5=0x2,_0x2620b0=function(_0x53a59d){var _0x3073f8=_0x4d1e3c;_0x44b4dd()(_0x513be1,_0x53a59d);var _0x1eab9f=_0x20bbd8(_0x513be1);function _0x513be1(){var _0x4e7179=a0_0x5c62,_0x291fc8,_0x1734a3=arguments[_0x4e7179(0x295)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x312a01()(this,_0x513be1),(_0x291fc8=_0x1eab9f[_0x4e7179(0x143)](this,_0x1734a3))[_0x4e7179(0x152)]=_0x4a5d9a,_0x291fc8['particleHeight']=_0xe35a37,_0x291fc8['fadeOpacity']=_0x81f2,_0x291fc8[_0x4e7179(0x16a)]=_0x267bb3,_0x291fc8[_0x4e7179(0x187)]=_0x67bb52,_0x291fc8[_0x4e7179(0x278)]=_0x18aa27,_0x291fc8[_0x4e7179(0x26f)]=_0x2069c5,_0x1734a3){for(var _0x3babc4 in _0x1734a3)_0x291fc8[_0x3babc4]=_0x1734a3[_0x3babc4];}return _0x291fc8;}return _0x1b10f8()(_0x513be1,[{'key':_0x3073f8(0x211),'get':function(){var _0x241662=_0x3073f8;return this[_0x241662(0x287)];}},{'key':'_mountedHook','value':function(){}},{'key':'_addedHook','value':function(){var _0x402bfe=_0x3073f8;this['scene']=this[_0x402bfe(0x213)]['scene'],this[_0x402bfe(0x1e0)]=this[_0x402bfe(0x213)]['camera'],this[_0x402bfe(0x287)]=new _0x4cbd8a['PrimitiveCollection'](),this[_0x402bfe(0x213)][_0x402bfe(0x201)][_0x402bfe(0x287)][_0x402bfe(0x22c)](this['primitives']),this['viewerParameters']={'lonRange':new _0x4cbd8a[(_0x402bfe(0x225))](),'latRange':new _0x4cbd8a[(_0x402bfe(0x225))](),'pixelSize':0x0},this[_0x402bfe(0x215)]=new _0x4cbd8a[(_0x402bfe(0x1c5))](_0x4cbd8a['Cartesian3']['ZERO'],6314355.63),this['updateViewerParameters']();}},{'key':_0x3073f8(0x296),'value':function(){var _0x20c50f=_0x3073f8;this[_0x20c50f(0x287)][_0x20c50f(0x1a8)](),this[_0x20c50f(0x213)][_0x20c50f(0x201)][_0x20c50f(0x287)]['remove'](this[_0x20c50f(0x287)]);}},{'key':_0x3073f8(0x18a),'value':function(_0x189546){var _0x3d3ad9=_0x3073f8;this[_0x3d3ad9(0x1fc)]=new _0x59e609(this[_0x3d3ad9(0x201)]['context'],_0x189546,this['getUserInput'](),this[_0x3d3ad9(0x1b1)]),this[_0x3d3ad9(0x231)](),this['setupEventListeners']();}},{'key':'setOptions','value':function(_0x10ffaf){var _0x319b85=_0x3073f8;if(_0x10ffaf){for(var _0x11c5e6 in _0x10ffaf)this[_0x11c5e6]=_0x10ffaf[_0x11c5e6];}return this['particleSystem'][_0x319b85(0x14d)](this[_0x319b85(0x222)]()),this;}},{'key':_0x3073f8(0x222),'value':function(){var _0x274bb0=_0x3073f8,_0x45a8cf=Math['ceil'](Math['sqrt'](this['maxParticles']));return this[_0x274bb0(0x152)]=_0x45a8cf*_0x45a8cf,{'particlesTextureSize':_0x45a8cf,'maxParticles':this[_0x274bb0(0x152)],'particleHeight':this[_0x274bb0(0x14f)],'fadeOpacity':this[_0x274bb0(0x1e7)],'dropRate':this[_0x274bb0(0x16a)],'dropRateBump':this[_0x274bb0(0x187)],'speedFactor':this[_0x274bb0(0x278)],'lineWidth':this[_0x274bb0(0x26f)],'globeLayer':this[_0x274bb0(0x245)],'WMS_URL':this[_0x274bb0(0x1a7)]};}},{'key':_0x3073f8(0x231),'value':function(){var _0x204334=_0x3073f8;this['primitives'][_0x204334(0x22c)](this[_0x204334(0x1fc)]['particlesComputing'][_0x204334(0x287)][_0x204334(0x212)]),this[_0x204334(0x287)][_0x204334(0x22c)](this[_0x204334(0x1fc)][_0x204334(0x137)][_0x204334(0x287)][_0x204334(0x1a6)]),this['primitives']['add'](this[_0x204334(0x1fc)][_0x204334(0x137)][_0x204334(0x287)]['updatePosition']),this['primitives'][_0x204334(0x22c)](this[_0x204334(0x1fc)][_0x204334(0x137)][_0x204334(0x287)]['postProcessingPosition']),this['primitives'][_0x204334(0x22c)](this['particleSystem'][_0x204334(0x137)][_0x204334(0x287)]['postProcessingSpeed']),this[_0x204334(0x287)][_0x204334(0x22c)](this['particleSystem'][_0x204334(0x248)][_0x204334(0x287)][_0x204334(0x1c0)]),this[_0x204334(0x287)][_0x204334(0x22c)](this['particleSystem']['particlesRendering'][_0x204334(0x287)][_0x204334(0x173)]),this[_0x204334(0x287)][_0x204334(0x22c)](this[_0x204334(0x1fc)]['particlesRendering'][_0x204334(0x287)][_0x204334(0x1aa)]);}},{'key':_0x3073f8(0x21c),'value':function(){var _0x4e98c1=_0x3073f8,_0x187d39=this[_0x4e98c1(0x1e0)][_0x4e98c1(0x297)](this[_0x4e98c1(0x201)][_0x4e98c1(0x1b8)][_0x4e98c1(0x26e)]);if(!_0x187d39){var _0x5d2cde=this[_0x4e98c1(0x213)]['getExtent']();_0x187d39=_0x4cbd8a[_0x4e98c1(0x195)][_0x4e98c1(0x1a0)](_0x5d2cde[_0x4e98c1(0x1a2)],_0x5d2cde[_0x4e98c1(0x24b)],_0x5d2cde[_0x4e98c1(0x247)],_0x5d2cde[_0x4e98c1(0x235)]);}var _0x402d23=_0x155700['viewRectangleToLonLatRange'](_0x187d39);this['viewerParameters'][_0x4e98c1(0x23c)]['x']=_0x402d23[_0x4e98c1(0x13f)][_0x4e98c1(0x1ae)],this[_0x4e98c1(0x1b1)][_0x4e98c1(0x23c)]['y']=_0x402d23['lon']['max'],this[_0x4e98c1(0x1b1)][_0x4e98c1(0x21d)]['x']=_0x402d23[_0x4e98c1(0x167)][_0x4e98c1(0x1ae)],this['viewerParameters'][_0x4e98c1(0x21d)]['y']=_0x402d23[_0x4e98c1(0x167)]['max'];var _0x12088f=this[_0x4e98c1(0x1e0)][_0x4e98c1(0x179)](this['globeBoundingSphere'],this['scene'][_0x4e98c1(0x18b)],this[_0x4e98c1(0x201)][_0x4e98c1(0x289)]);_0x12088f>0x0&&(this[_0x4e98c1(0x1b1)][_0x4e98c1(0x151)]=_0x12088f);}},{'key':_0x3073f8(0x1fb),'value':function(){var _0x56e33b=_0x3073f8,_0x5b44f4=this;this[_0x56e33b(0x1e0)][_0x56e33b(0x13d)][_0x56e33b(0x259)](function(){var _0x523186=_0x56e33b;_0x5b44f4[_0x523186(0x213)]&&_0x5b44f4[_0x523186(0x227)]&&(_0x5b44f4[_0x523186(0x287)][_0x523186(0x227)]=!0x1);}),this['camera'][_0x56e33b(0x216)]['addEventListener'](function(){var _0x2f7fe4=_0x56e33b;_0x5b44f4[_0x2f7fe4(0x213)]&&_0x5b44f4['show']&&(_0x5b44f4[_0x2f7fe4(0x21c)](),_0x5b44f4[_0x2f7fe4(0x1fc)]['applyViewerParameters'](_0x5b44f4[_0x2f7fe4(0x1b1)]),_0x5b44f4[_0x2f7fe4(0x287)][_0x2f7fe4(0x227)]=!0x0);});var _0x67852f=!0x1;window['addEventListener'](_0x56e33b(0x1e3),function(){var _0x4a6e4e=_0x56e33b;_0x5b44f4[_0x4a6e4e(0x213)]&&_0x5b44f4[_0x4a6e4e(0x227)]&&(_0x67852f=!0x0,_0x5b44f4['primitives'][_0x4a6e4e(0x227)]=!0x1,_0x5b44f4[_0x4a6e4e(0x287)][_0x4a6e4e(0x1a8)]());}),this['scene']['preRender']['addEventListener'](function(){var _0x16826a=_0x56e33b;_0x5b44f4[_0x16826a(0x213)]&&_0x67852f&&(_0x5b44f4[_0x16826a(0x1fc)][_0x16826a(0x200)](_0x5b44f4['scene']['context']),_0x67852f=!0x1,_0x5b44f4[_0x16826a(0x231)](),_0x5b44f4['primitives']['show']=!0x0);});}}]),_0x513be1;}(_0x45d9da);_0x4d636a['LayerUtil'][_0x4d1e3c(0x19b)](_0x4d1e3c(0x19a),_0x2620b0),_0x4d636a[_0x4d1e3c(0x211)][_0x4d1e3c(0x1f5)]=_0x2620b0;var _0x3b5f5f=function _0x123196(){var _0x475686=_0x4d1e3c;_0x312a01()(this,_0x123196),this[_0x475686(0x228)]=null,this[_0x475686(0x167)]=null,this[_0x475686(0x1f8)]=null,this['tlat']=null,this[_0x475686(0x27e)]=null;},_0x2ae321=function(){var _0x2c5970=_0x4d1e3c;function _0x3d4a74(_0xfbdf75,_0x369c38){var _0x2e5ca6=a0_0x5c62;_0x312a01()(this,_0x3d4a74),this[_0x2e5ca6(0x150)]=_0xfbdf75[_0x2e5ca6(0x150)],this[_0x2e5ca6(0x1f0)]=_0xfbdf75['cols'],this['xmin']=_0xfbdf75['xmin'],this['xmax']=_0xfbdf75[_0x2e5ca6(0x247)],this[_0x2e5ca6(0x24b)]=_0xfbdf75[_0x2e5ca6(0x24b)],this[_0x2e5ca6(0x235)]=_0xfbdf75['ymax'],this[_0x2e5ca6(0x172)]=[];var _0x37e0ee=_0xfbdf75['udata'],_0x5658ef=_0xfbdf75[_0x2e5ca6(0x290)],_0x50b3e4=!0x1;_0x37e0ee['length']===this['rows']&&_0x37e0ee[0x0][_0x2e5ca6(0x295)]===this[_0x2e5ca6(0x1f0)]&&(_0x50b3e4=!0x0);for(var _0x16265d=0x0,_0x3a024e=null,_0x1f0500=null,_0x253f73=0x0;_0x253f73<this[_0x2e5ca6(0x150)];_0x253f73++){_0x3a024e=[];for(var _0x246b8b=0x0;_0x246b8b<this[_0x2e5ca6(0x1f0)];_0x246b8b++,_0x16265d++)_0x1f0500=_0x50b3e4?this['_calcUV'](_0x37e0ee[_0x253f73][_0x246b8b],_0x5658ef[_0x253f73][_0x246b8b]):this[_0x2e5ca6(0x221)](_0x37e0ee[_0x16265d],_0x5658ef[_0x16265d]),_0x3a024e[_0x2e5ca6(0x183)](_0x1f0500);this[_0x2e5ca6(0x172)][_0x2e5ca6(0x183)](_0x3a024e);}_0x369c38&&this['grid'][_0x2e5ca6(0x1bf)]();}return _0x1b10f8()(_0x3d4a74,[{'key':'toGridXY','value':function(_0x492d0e,_0xf53bbb){var _0x3d9dce=a0_0x5c62;return{'x':(_0x492d0e-this[_0x3d9dce(0x1a2)])/(this['xmax']-this['xmin'])*(this[_0x3d9dce(0x1f0)]-0x1),'y':(this[_0x3d9dce(0x235)]-_0xf53bbb)/(this[_0x3d9dce(0x235)]-this[_0x3d9dce(0x24b)])*(this[_0x3d9dce(0x150)]-0x1)};}},{'key':'getUVByXY','value':function(_0x4d0698,_0x19bada){var _0x5978ae=a0_0x5c62;if(_0x4d0698<0x0||_0x4d0698>=this['cols']||_0x19bada>=this[_0x5978ae(0x150)])return[0x0,0x0,0x0];var _0x4567a8,_0x440e47,_0x4ed71a=Math['floor'](_0x4d0698),_0x12e288=Math[_0x5978ae(0x169)](_0x19bada);if(_0x4ed71a===_0x4d0698&&_0x12e288===_0x19bada)return this[_0x5978ae(0x172)][_0x19bada][_0x4d0698];_0x4567a8=_0x4ed71a+0x1,_0x440e47=_0x12e288+0x1;var _0x2aa92e=this['getUVByXY'](_0x4ed71a,_0x12e288),_0x2cb2f2=this[_0x5978ae(0x263)](_0x4567a8,_0x12e288),_0x366b5e=this[_0x5978ae(0x263)](_0x4ed71a,_0x440e47),_0x1c189a=this[_0x5978ae(0x263)](_0x4567a8,_0x440e47),_0x4d01c1=null;try{_0x4d01c1=this['_bilinearInterpolation'](_0x4d0698-_0x4ed71a,_0x19bada-_0x12e288,_0x2aa92e,_0x2cb2f2,_0x366b5e,_0x1c189a);}catch(_0x1d4c31){console[_0x5978ae(0x25b)](_0x4d0698,_0x19bada);}return _0x4d01c1;}},{'key':_0x2c5970(0x224),'value':function(_0x5b36cc,_0x143a92,_0x338197,_0x5d7eab,_0x87b64,_0x152338){var _0x497c2d=_0x2c5970,_0x54435b=0x1-_0x5b36cc,_0x50a324=0x1-_0x143a92,_0x547914=_0x54435b*_0x50a324,_0x1f3727=_0x5b36cc*_0x50a324,_0x3fed3f=_0x54435b*_0x143a92,_0x5d9359=_0x5b36cc*_0x143a92,_0x58cdeb=_0x338197[0x0]*_0x547914+_0x5d7eab[0x0]*_0x1f3727+_0x87b64[0x0]*_0x3fed3f+_0x152338[0x0]*_0x5d9359,_0x15b4e2=_0x338197[0x1]*_0x547914+_0x5d7eab[0x1]*_0x1f3727+_0x87b64[0x1]*_0x3fed3f+_0x152338[0x1]*_0x5d9359;return this[_0x497c2d(0x221)](_0x58cdeb,_0x15b4e2);}},{'key':_0x2c5970(0x221),'value':function(_0x17032a,_0x1ac094){return[+_0x17032a,+_0x1ac094,Math['sqrt'](_0x17032a*_0x17032a+_0x1ac094*_0x1ac094)];}},{'key':'getUVByPoint','value':function(_0x598969,_0x589f36){var _0x2dbd2b=_0x2c5970;if(!this[_0x2dbd2b(0x1d0)](_0x598969,_0x589f36))return null;var _0x581f42=this[_0x2dbd2b(0x194)](_0x598969,_0x589f36);return this[_0x2dbd2b(0x263)](_0x581f42['x'],_0x581f42['y']);}},{'key':_0x2c5970(0x1d0),'value':function(_0x39b56f,_0x5f12ee){var _0x1b12fa=_0x2c5970;return _0x39b56f>=this[_0x1b12fa(0x1a2)]&&_0x39b56f<=this[_0x1b12fa(0x247)]&&_0x5f12ee>=this[_0x1b12fa(0x24b)]&&_0x5f12ee<=this[_0x1b12fa(0x235)];}},{'key':_0x2c5970(0x260),'value':function(){var _0x12bbe6=_0x2c5970,_0x11e502=_0x1d4e3f(this[_0x12bbe6(0x1a2)],this[_0x12bbe6(0x247)]);return{'lat':_0x1d4e3f(this['ymin'],this[_0x12bbe6(0x235)]),'lng':_0x11e502};}}]),_0x3d4a74;}();function _0x1d4e3f(_0x5077a3,_0x689b1d){var _0x26540c=_0x4d1e3c;return _0x5077a3+Math[_0x26540c(0x291)]()*(_0x689b1d-_0x5077a3);}function _0x26ebcf(_0x5c5b7b){var _0x3e0226=function(){var _0x30abcb=a0_0x5c62;if('undefined'==typeof Reflect||!Reflect[_0x30abcb(0x160)])return!0x1;if(Reflect[_0x30abcb(0x160)][_0x30abcb(0x217)])return!0x1;if(_0x30abcb(0x22b)==typeof Proxy)return!0x0;try{return Boolean[_0x30abcb(0x1b3)][_0x30abcb(0x25f)][_0x30abcb(0x143)](Reflect[_0x30abcb(0x160)](Boolean,[],function(){})),!0x0;}catch(_0x4b340a){return!0x1;}}();return function(){var _0x1cb19a=a0_0x5c62,_0x537f8e,_0x2db332=_0x442c80()(_0x5c5b7b);if(_0x3e0226){var _0x17530a=_0x442c80()(this)['constructor'];_0x537f8e=Reflect[_0x1cb19a(0x160)](_0x2db332,arguments,_0x17530a);}else _0x537f8e=_0x2db332['apply'](this,arguments);return _0x47ca38()(this,_0x537f8e);};}var _0x5a9904=function(_0x47f982){var _0x4328c0=_0x4d1e3c;_0x44b4dd()(_0xd3402f,_0x47f982);var _0x195c81=_0x26ebcf(_0xd3402f);function _0xd3402f(){var _0xd04aa4=a0_0x5c62,_0x3f6207,_0x41ba18=arguments[_0xd04aa4(0x295)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x312a01()(this,_0xd3402f),(_0x3f6207=_0x195c81[_0xd04aa4(0x143)](this,_0x41ba18))[_0xd04aa4(0x274)]=[0x0,0x0],_0x3f6207['particles']=[],_0x3f6207['speedRate']=_0x41ba18[_0xd04aa4(0x25e)]||0x32,_0x3f6207['_particlesNumber']=_0x41ba18['particlesNumber']||0x4e20,_0x3f6207[_0xd04aa4(0x205)]=_0x41ba18[_0xd04aa4(0x19f)]||0x78,_0x3f6207[_0xd04aa4(0x1da)]=0x3e8/(_0x41ba18[_0xd04aa4(0x1bc)]||0xa),_0x3f6207[_0xd04aa4(0x1e9)]=_0x4cbd8a[_0xd04aa4(0x1c7)](_0x3f6207[_0xd04aa4(0x196)][_0xd04aa4(0x1b0)],!0x1),_0x3f6207[_0xd04aa4(0x16c)]=_0x41ba18['color']||_0xd04aa4(0x1af),_0x3f6207[_0xd04aa4(0x26f)]=_0x41ba18['lineWidth']||0x1,_0x3f6207[_0xd04aa4(0x138)]=_0x4cbd8a[_0xd04aa4(0x1c7)](_0x41ba18['fixedHeight'],0x0),_0x3f6207[_0xd04aa4(0x229)]=_0x4cbd8a[_0xd04aa4(0x1c7)](_0x41ba18[_0xd04aa4(0x229)],!0x1),_0x3f6207[_0xd04aa4(0x261)]=null,_0x3f6207;}return _0x1b10f8()(_0xd3402f,[{'key':_0x4328c0(0x211),'get':function(){var _0x3332d3=_0x4328c0;return this[_0x3332d3(0x261)];}},{'key':_0x4328c0(0x241),'get':function(){var _0x28d97a=_0x4328c0;return this['_map'][_0x28d97a(0x201)][_0x28d97a(0x261)][_0x28d97a(0x1ba)];}},{'key':'canvasHeight','get':function(){var _0x274cf2=_0x4328c0;return this[_0x274cf2(0x213)][_0x274cf2(0x201)]['canvas']['clientHeight'];}},{'key':_0x4328c0(0x1b0),'get':function(){var _0xc73d32=_0x4328c0;return this[_0xc73d32(0x1e9)];},'set':function(_0x3a996d){var _0x4e72c1=_0x4328c0;this['_pointerEvents']=_0x3a996d,this['canvas'][_0x4e72c1(0x24c)]['pointer-events']=_0x3a996d?_0x4e72c1(0x27a):'none';}},{'key':_0x4328c0(0x25e),'get':function(){var _0x19cb0f=_0x4328c0;return this[_0x19cb0f(0x1d8)];},'set':function(_0x1c55d6){var _0xb3508d=_0x4328c0;this[_0xb3508d(0x1d8)]=0x64*(0x64-(_0x1c55d6>0x63?0x63:_0x1c55d6)),this[_0xb3508d(0x1cf)]();}},{'key':_0x4328c0(0x2a0),'get':function(){var _0x59ef84=_0x4328c0;return this[_0x59ef84(0x162)];},'set':function(_0x13a30a){var _0x1814d4=_0x4328c0,_0x498853=this;this[_0x1814d4(0x162)]=_0x13a30a,clearTimeout(this[_0x1814d4(0x20a)]),this[_0x1814d4(0x20a)]=setTimeout(function(){var _0x37f7a1=_0x1814d4;_0x498853[_0x37f7a1(0x286)]();},0x1f4);}},{'key':_0x4328c0(0x19f),'get':function(){var _0x57fcc2=_0x4328c0;return this[_0x57fcc2(0x205)];},'set':function(_0xa0e66f){var _0x39e5c4=_0x4328c0,_0x230884=this;this['_maxAge']=_0xa0e66f,clearTimeout(this[_0x39e5c4(0x20a)]),this[_0x39e5c4(0x20a)]=setTimeout(function(){var _0xfbf44b=_0x39e5c4;_0x230884[_0xfbf44b(0x286)]();},0x1f4);}},{'key':_0x4328c0(0x1a3),'get':function(){var _0x5dae66=_0x4328c0;return this[_0x5dae66(0x24e)];},'set':function(_0x278e7b){var _0x56b336=_0x4328c0;this[_0x56b336(0x284)](_0x278e7b);}},{'key':_0x4328c0(0x283),'value':function(_0x448d6d){var _0x5c18d1=_0x4328c0;this['canvas']&&(this['canvas'][_0x5c18d1(0x24c)][_0x5c18d1(0x190)]=_0x448d6d?_0x5c18d1(0x234):_0x5c18d1(0x20d));}},{'key':'_mountedHook','value':function(){}},{'key':'_addedHook','value':function(){var _0xfd9d5b=_0x4328c0;this[_0xfd9d5b(0x261)]=this[_0xfd9d5b(0x29d)](),this[_0xfd9d5b(0x1ed)]=this[_0xfd9d5b(0x261)][_0xfd9d5b(0x1b9)]('2d'),this['bindEvent'](),this[_0xfd9d5b(0x196)]['data']&&this[_0xfd9d5b(0x284)](this[_0xfd9d5b(0x196)][_0xfd9d5b(0x1a3)]);}},{'key':'_removedHook','value':function(){var _0x3440b5=_0x4328c0;this[_0x3440b5(0x15b)](),this[_0x3440b5(0x147)](),this[_0x3440b5(0x261)]&&(this[_0x3440b5(0x213)][_0x3440b5(0x1d2)]['removeChild'](this[_0x3440b5(0x261)]),delete this[_0x3440b5(0x261)]);}},{'key':'_createCanvas','value':function(){var _0x1d1a56=_0x4328c0,_0x4b239e=document[_0x1d1a56(0x1b5)](_0x1d1a56(0x261));_0x4b239e[_0x1d1a56(0x24c)][_0x1d1a56(0x27f)]=_0x1d1a56(0x292),_0x4b239e['style'][_0x1d1a56(0x1d3)]=_0x1d1a56(0x1be),_0x4b239e[_0x1d1a56(0x24c)]['left']=_0x1d1a56(0x1be),_0x4b239e[_0x1d1a56(0x24c)][_0x1d1a56(0x1c4)]=_0x1d1a56(0x29b),_0x4b239e[_0x1d1a56(0x24c)]['height']='100%',_0x4b239e[_0x1d1a56(0x24c)]['pointerEvents']=this['_pointerEvents']?_0x1d1a56(0x16f):_0x1d1a56(0x26c),_0x4b239e['style'][_0x1d1a56(0x218)]=0xa,_0x4b239e[_0x1d1a56(0x269)]('id',_0x1d1a56(0x25a)),_0x4b239e['setAttribute']('class',_0x1d1a56(0x25a)),this[_0x1d1a56(0x213)][_0x1d1a56(0x1d2)][_0x1d1a56(0x1ab)](_0x4b239e);var _0x1908e3=this[_0x1d1a56(0x213)][_0x1d1a56(0x201)];return _0x4b239e[_0x1d1a56(0x1c4)]=_0x1908e3['canvas']['clientWidth'],_0x4b239e[_0x1d1a56(0x258)]=_0x1908e3['canvas'][_0x1d1a56(0x1e4)],_0x4b239e;}},{'key':'resize','value':function(){var _0x49a7d7=_0x4328c0;this[_0x49a7d7(0x261)]&&(this[_0x49a7d7(0x261)][_0x49a7d7(0x1c4)]=this['canvasWidth'],this[_0x49a7d7(0x261)][_0x49a7d7(0x258)]=this[_0x49a7d7(0x23f)]);}},{'key':_0x4328c0(0x182),'value':function(){var _0x139fb5=_0x4328c0,_0x22f565=this,_0x4bb389=this,_0x1f699a=Date[_0x139fb5(0x164)]();!function _0x39e027(){var _0x3e5271=_0x139fb5;_0x4bb389[_0x3e5271(0x1f3)]=window[_0x3e5271(0x2a3)](_0x39e027);var _0xb20149=Date[_0x3e5271(0x164)](),_0x443785=_0xb20149-_0x1f699a;_0x443785>_0x4bb389['frameTime']&&(_0x1f699a=_0xb20149-_0x443785%_0x4bb389[_0x3e5271(0x1da)],_0x4bb389[_0x3e5271(0x1f7)]());}(),window[_0x139fb5(0x259)](_0x139fb5(0x1e3),this['resize']['bind'](this),!0x1),this[_0x139fb5(0x1e1)]=new _0x4cbd8a['ScreenSpaceEventHandler'](this['_map'][_0x139fb5(0x201)][_0x139fb5(0x261)]);var _0x57b16c=!0x1,_0x4ecd53=!0x1;this[_0x139fb5(0x1e1)][_0x139fb5(0x175)](function(_0x5e6cf2){var _0x49af80=_0x139fb5;clearTimeout(-0x1),_0x22f565[_0x49af80(0x227)]=!0x1,setTimeout(function(){var _0x332e7a=_0x49af80;_0x22f565[_0x332e7a(0x286)](),_0x22f565[_0x332e7a(0x227)]=!0x0;},0xc8);},_0x4cbd8a[_0x139fb5(0x1f2)][_0x139fb5(0x1ee)]),this['handler'][_0x139fb5(0x175)](function(_0x3f63cd){_0x57b16c=!0x0;},_0x4cbd8a[_0x139fb5(0x1f2)][_0x139fb5(0x1bb)]),this['handler']['setInputAction'](function(_0x30c1cd){_0x57b16c=!0x0;},_0x4cbd8a['ScreenSpaceEventType']['RIGHT_DOWN']),this[_0x139fb5(0x1e1)][_0x139fb5(0x175)](function(_0x100100){var _0x3cd4ed=_0x139fb5;_0x57b16c&&(_0x22f565[_0x3cd4ed(0x227)]=!0x1,_0x4ecd53=!0x0);},_0x4cbd8a[_0x139fb5(0x1f2)]['MOUSE_MOVE']),this[_0x139fb5(0x1e1)][_0x139fb5(0x175)](function(_0x4692ec){_0x57b16c&&_0x4ecd53&&_0x22f565['redraw'](),_0x22f565['show']=!0x0,_0x57b16c=!0x1,_0x4ecd53=!0x1;},_0x4cbd8a[_0x139fb5(0x1f2)][_0x139fb5(0x250)]),this[_0x139fb5(0x1e1)][_0x139fb5(0x175)](function(_0x21a079){var _0x137bfe=_0x139fb5;_0x57b16c&&_0x4ecd53&&_0x22f565[_0x137bfe(0x286)](),_0x22f565[_0x137bfe(0x227)]=!0x0,_0x57b16c=!0x1,_0x4ecd53=!0x1;},_0x4cbd8a['ScreenSpaceEventType'][_0x139fb5(0x18e)]);}},{'key':_0x4328c0(0x147),'value':function(){var _0x3ee8cf=_0x4328c0;window['cancelAnimationFrame'](this[_0x3ee8cf(0x1f3)]),delete this[_0x3ee8cf(0x1f3)],window[_0x3ee8cf(0x220)](_0x3ee8cf(0x1e3),this[_0x3ee8cf(0x1e3)]),this[_0x3ee8cf(0x1e1)]&&(this['handler']['destroy'](),this['handler']=null);}},{'key':'redraw','value':function(){var _0xd8ca86=_0x4328c0;this[_0xd8ca86(0x1a1)]=[],this[_0xd8ca86(0x27b)]();}},{'key':_0x4328c0(0x284),'value':function(_0x4f707b){var _0x512d8c=_0x4328c0;this['clear'](),this[_0x512d8c(0x24e)]=_0x4f707b,this[_0x512d8c(0x1d9)]=new _0x2ae321(this[_0x512d8c(0x24e)],this[_0x512d8c(0x229)]),this[_0x512d8c(0x27b)]();}},{'key':_0x4328c0(0x27b),'value':function(){var _0x4db8ae=_0x4328c0;this[_0x4db8ae(0x1cf)]();for(var _0x4ae787=0x0;_0x4ae787<this[_0x4db8ae(0x2a0)];_0x4ae787++){var _0x400e70=this[_0x4db8ae(0x193)](new _0x3b5f5f());this[_0x4db8ae(0x1a1)]['push'](_0x400e70);}this[_0x4db8ae(0x1ed)]['fillStyle']=_0x4db8ae(0x282),this['canvasContext']['globalAlpha']=0.6,this[_0x4db8ae(0x1f7)]();}},{'key':_0x4328c0(0x1cf),'value':function(){var _0x4d5577=_0x4328c0;this[_0x4d5577(0x1d9)]&&(this[_0x4d5577(0x274)]=[(this['windField'][_0x4d5577(0x247)]-this[_0x4d5577(0x1d9)][_0x4d5577(0x1a2)])/this['speedRate'],(this[_0x4d5577(0x1d9)]['ymax']-this[_0x4d5577(0x1d9)][_0x4d5577(0x24b)])/this[_0x4d5577(0x25e)]]);}},{'key':_0x4328c0(0x1f7),'value':function(){var _0x1e57b5=_0x4328c0,_0x4486e4=this;if(this[_0x1e57b5(0x227)]&&!(this[_0x1e57b5(0x1a1)][_0x1e57b5(0x295)]<=0x0)){var _0x5ad393=null,_0x470d9d=null,_0x5bf3c4=null;this[_0x1e57b5(0x1a1)][_0x1e57b5(0x13b)](function(_0x4f89d5){var _0x32ce91=_0x1e57b5;if(_0x4f89d5[_0x32ce91(0x27e)]<=0x0&&_0x4486e4['randomParticle'](_0x4f89d5),_0x4f89d5[_0x32ce91(0x27e)]>0x0){var _0x50fc97=_0x4f89d5['tlng'],_0x2fb139=_0x4f89d5[_0x32ce91(0x170)];(_0x5bf3c4=_0x4486e4[_0x32ce91(0x1d9)][_0x32ce91(0x204)](_0x50fc97,_0x2fb139))?(_0x5ad393=_0x50fc97+_0x4486e4[_0x32ce91(0x274)][0x0]*_0x5bf3c4[0x0],_0x470d9d=_0x2fb139+_0x4486e4[_0x32ce91(0x274)][0x1]*_0x5bf3c4[0x1],_0x4f89d5[_0x32ce91(0x228)]=_0x50fc97,_0x4f89d5[_0x32ce91(0x167)]=_0x2fb139,_0x4f89d5[_0x32ce91(0x1f8)]=_0x5ad393,_0x4f89d5[_0x32ce91(0x170)]=_0x470d9d,_0x4f89d5[_0x32ce91(0x27e)]--):_0x4f89d5[_0x32ce91(0x27e)]=0x0;}}),this[_0x1e57b5(0x20b)]();}}},{'key':_0x4328c0(0x163),'value':function(_0x50ea73,_0x1eafd7,_0x4866a9){var _0x12a843=_0x4328c0,_0x226b1d=_0x4cbd8a[_0x12a843(0x1f1)][_0x12a843(0x1a0)](_0x50ea73,_0x1eafd7,this[_0x12a843(0x138)]),_0xfff2b0=this['_map']['scene'];if(_0xfff2b0['mode']===_0x4cbd8a[_0x12a843(0x26d)]['SCENE3D']&&!new _0x4cbd8a[(_0x12a843(0x154))](_0xfff2b0['globe']['ellipsoid'],_0xfff2b0[_0x12a843(0x1e0)]['positionWC'])[_0x12a843(0x15c)](_0x226b1d))return _0x4866a9[_0x12a843(0x27e)]=0x0,null;var _0x4c536a=_0x4cbd8a[_0x12a843(0x146)][_0x12a843(0x1fa)](this[_0x12a843(0x213)][_0x12a843(0x201)],_0x226b1d);return _0x4c536a?[_0x4c536a['x'],_0x4c536a['y']]:null;}},{'key':_0x4328c0(0x20b),'value':function(){var _0x2d90ce=_0x4328c0,_0x3653f4=this,_0x444ec4=this[_0x2d90ce(0x1a1)];this[_0x2d90ce(0x1ed)]['lineWidth']=_0x3653f4['lineWidth'],this[_0x2d90ce(0x1ed)][_0x2d90ce(0x17f)]=_0x2d90ce(0x1a9),this['canvasContext'][_0x2d90ce(0x253)](0x0,0x0,this[_0x2d90ce(0x241)],this[_0x2d90ce(0x23f)]),this['canvasContext'][_0x2d90ce(0x17f)]=_0x2d90ce(0x159),this['canvasContext']['globalAlpha']=0.9,this['canvasContext'][_0x2d90ce(0x233)](),this['canvasContext'][_0x2d90ce(0x1dd)]=this[_0x2d90ce(0x16c)];var _0x16efb6=this[_0x2d90ce(0x213)][_0x2d90ce(0x201)]['mode']!==_0x4cbd8a[_0x2d90ce(0x26d)][_0x2d90ce(0x1a5)];_0x444ec4[_0x2d90ce(0x13b)](function(_0x28af10){var _0x16592e=_0x2d90ce,_0x12800c=_0x3653f4[_0x16592e(0x163)](_0x28af10[_0x16592e(0x228)],_0x28af10[_0x16592e(0x167)],_0x28af10),_0x7ecbbe=_0x3653f4['_tomap'](_0x28af10['tlng'],_0x28af10[_0x16592e(0x170)],_0x28af10);if(null!=_0x12800c&&null!=_0x7ecbbe){var _0x11f157=Math[_0x16592e(0x149)](_0x12800c[0x0]-_0x7ecbbe[0x0]);_0x16efb6&&_0x11f157>=_0x3653f4['canvasWidth']||(_0x3653f4[_0x16592e(0x1ed)][_0x16592e(0x168)](_0x12800c[0x0],_0x12800c[0x1]),_0x3653f4[_0x16592e(0x1ed)]['lineTo'](_0x7ecbbe[0x0],_0x7ecbbe[0x1]));}}),this[_0x2d90ce(0x1ed)][_0x2d90ce(0x265)]();}},{'key':_0x4328c0(0x193),'value':function(_0x1b1a5c){var _0xb63907=_0x4328c0;for(var _0x31c2b7,_0x3f758f,_0x2e69fa=0x0;_0x2e69fa<0x1e&&(_0x31c2b7=this[_0xb63907(0x1d9)][_0xb63907(0x260)](),!((_0x3f758f=this[_0xb63907(0x1d9)][_0xb63907(0x204)](_0x31c2b7[_0xb63907(0x228)],_0x31c2b7[_0xb63907(0x167)]))&&_0x3f758f[0x2]>0x0));_0x2e69fa++);if(!_0x3f758f)return _0x1b1a5c;var _0x37fa25=_0x31c2b7['lng']+this[_0xb63907(0x274)][0x0]*_0x3f758f[0x0],_0x120356=_0x31c2b7[_0xb63907(0x167)]+this[_0xb63907(0x274)][0x1]*_0x3f758f[0x1];return _0x1b1a5c[_0xb63907(0x228)]=_0x31c2b7[_0xb63907(0x228)],_0x1b1a5c['lat']=_0x31c2b7[_0xb63907(0x167)],_0x1b1a5c['tlng']=_0x37fa25,_0x1b1a5c[_0xb63907(0x170)]=_0x120356,_0x1b1a5c['age']=Math[_0xb63907(0x20e)](Math[_0xb63907(0x291)]()*this['maxAge']),_0x1b1a5c;}},{'key':_0x4328c0(0x15b),'value':function(){var _0x14b829=_0x4328c0;this[_0x14b829(0x1a1)]=[],delete this[_0x14b829(0x1d9)],delete this[_0x14b829(0x24e)];}}]),_0xd3402f;}(_0x4d636a[_0x4d1e3c(0x211)][_0x4d1e3c(0x21e)]);function _0xc5068d(_0x2ff5fc,_0x5e3941){var _0x44e9ed=_0x4d1e3c;return _0x2ff5fc*Math[_0x44e9ed(0x19e)](_0x4cbd8a['Math'][_0x44e9ed(0x267)](_0x5e3941));}function _0x3d3fbd(_0x303960,_0x296cc9){var _0x53d6fd=_0x4d1e3c;return _0x303960*Math[_0x53d6fd(0x208)](_0x4cbd8a['Math']['toRadians'](_0x296cc9));}function _0x530c26(_0x2bcf87,_0x4609a4){var _0xee8911=_0x4d1e3c;return Math[_0xee8911(0x252)](Math['pow'](_0x2bcf87,0x2)+Math[_0xee8911(0x2a1)](_0x4609a4,0x2));}function _0x3d221e(_0x4be298,_0x4c08f3){var _0x4c14dd=_0x4d1e3c,_0x1c4481=_0x4cbd8a[_0x4c14dd(0x192)]['toDegrees'](Math[_0x4c14dd(0x1bd)](_0x4c08f3,_0x4be298));return _0x1c4481+=_0x1c4481<0x0?0x168:0x0;}_0x4d636a[_0x4d1e3c(0x27d)][_0x4d1e3c(0x19b)](_0x4d1e3c(0x23d),_0x5a9904),_0x4d636a[_0x4d1e3c(0x211)][_0x4d1e3c(0x181)]=_0x5a9904,_0x4d636a[_0x4d1e3c(0x254)]=_0xccffd1;}]);}));